<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="../../css/bootstrap.min.css">

        <link rel="stylesheet" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="../../css/iconmoon.css">
        <link rel="stylesheet" href="../../css/main.css">

        <script src="../../js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
  <title>Pregunta 3</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <style type="text/css">
    #background{position:absolute; width:99%; height:130%;}
    #fixed {position:absolute; top: 0px; left: 0px;}
  </style>
</head>
<body data-spy="scroll" data-target="#scrollspy" data-offset="1">
    <nav class="navbar navbar-default navbar-fixed-top" id="scrollspy">
      <div class="container-fluid">
        <div class="navbar-header">
          <button class="navbar-toggle" data-toggle="collapse" data-target="#menu">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
            </button>
          <a href="../../index.html" class="navbar-brand">Tarea Individual</a>
        </div>
        <div class="collapse navbar-collapse" id="menu">
          <ul class="nav navbar-nav">
            <li><a href="#Ej">Ejecutable</a></li>
            <li><a href="#Ca">Capturas</a></li>
          </ul>
        </div>
      </div>
    </nav>
  <div class="container" id="Ej">
    <br><br><br>
    <ul class="nav nav-tabs">
      <li class="active"><a href="#Eje" data-toggle="tab">Ejecución</a></li>
      <li><a href="#HT" data-toggle="tab">HTML</a></li>
      <li><a href="#S" data-toggle="tab">Script</a></li>
      <li><a href="#XML" data-toggle="tab">JSON</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="Eje" style="text-align:center;">
        <div style="padding-top: 10%;background-image:url(../../Imagenes/fondo.jpg) ;background-size: cover;">
          <img src="../../Imagenes/selloespe.jpg"  width="65%" align="center">
          <h1>Pregunta 3</h1>
          <p>Escoja su género de películas preferido para desplegar una tabla con la información correspondiente</p>
          <select id="myselect" onchange="change_myselect(this.value)">
            <option value="">Elija una de las siguientes opciones.</option>
            <option value="Terror">Terror</option>
            <option value="Drama">Drama</option>
            <option value="Accion">Accion</option>
          </select>
          <p id="demo"></p>        
        </div>
      </div>
      <div class="tab-pane" id="HT">
        <br><br><br><br>
        <img src="../../Imagenes/CP3.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
      </div>
      <div class="tab-pane" id="S">
        <br><br><br><br>
        <img src="../../Imagenes/SP3.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
      </div>
      <div class="tab-pane" id="XML">
        <br><br><br><br>
        <img src="../../Imagenes/XP3.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
      </div>
    </div>
  </div>
  <br><br><br>
  <div class="container" id="Ca">
    <h2><p style="color:#165014" ;>CAPTURAS PREGUNTA 3</p></h2>
    <h3><p style="text-align: center;color:#165014" ;>Antes</p></h3>
    <img src="../../Imagenes/Pregunta3.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
    <br>
    <h3><p style="text-align: center;color:#165014" ;>Despues</p></h3>
    <img src="../../Imagenes/Pregunta32.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
  </div>


  <script>

function change_myselect(sel) {
  var obj, dbParam, xmlhttp, myObj, x, txt = "";
  obj = { table: sel, limit: 20 };
  dbParam = JSON.stringify(obj);
  xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      myObj = JSON.parse(this.responseText);
      txt += "<table border='2'><tr><td>NOMBRE</td><td>PROTAGONISTA</td></tr>";
      
      for (x in myObj.peliculas) {
        if(myObj.peliculas[x].Genero==sel){
          txt += "<tr><td>" + myObj.peliculas[x].Nombre + "</td><td>"+myObj.peliculas[x].Protagonista+"</td></tr>";
        }
  }
      txt += "</table>"    
      document.getElementById("demo").innerHTML = txt;
      }
    };
  xmlhttp.open("GET", "./ListaPeliculas.json", true);
  xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  xmlhttp.send("x=" + dbParam);
}
</script>
  <script>window.jQuery || document.write('<script src="../../js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="../../js/vendor/bootstrap.min.js"></script>

        <script src="../../js/main.js"></script> 
</body>
</html>