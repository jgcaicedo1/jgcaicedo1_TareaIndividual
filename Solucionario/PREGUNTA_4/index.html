<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="../../css/bootstrap.min.css">

        <link rel="stylesheet" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="../../css/iconmoon.css">
        <link rel="stylesheet" href="../../css/main.css">

        <script src="../../js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
  <title>Pregunta 4</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
  <style type="text/css">
    #background{position:absolute; width:99%; height:130%;}
    #fixed {position:absolute; top: 0px; left: 0px;}
    table,th,td {
      border : 1px solid black;
      border-collapse: collapse;
    }
    th,td {
      padding: 5px;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#scrollspy" data-offset="1">
    <nav class="navbar navbar-default navbar-fixed-top" id="scrollspy">
      <div class="container-fluid">
        <div class="navbar-header">
          <button class="navbar-toggle" data-toggle="collapse" data-target="#menu">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
            </button>
          <a href="../../index.html" class="navbar-brand">Tarea Individual</a>
        </div>
        <div class="collapse navbar-collapse" id="menu">
          <ul class="nav navbar-nav">
            <li><a href="#Ej">Ejecutable</a></li>
            <li><a href="#Ca">Capturas</a></li>
          </ul>
        </div>
      </div>
    </nav>
  <div class="container" id="Ej">
    <br><br><br>
    <ul class="nav nav-tabs">
      <li class="active"><a href="#Eje" data-toggle="tab">Ejecuci√≥n</a></li>
      <li><a href="#HT" data-toggle="tab">HTML</a></li>
      <li><a href="#S" data-toggle="tab">Script</a></li>
      <li><a href="#XML" data-toggle="tab">XML</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="Eje" style="text-align:center;">
        <div style="padding-top: 10%;background-image:url(../../Imagenes/fondo.jpg) ;background-size: cover;">
          <div class="section" style="margin-top: 10%;">
            <img src="../../Imagenes/selloespe.jpg" alt="">
          </div>
          <div class="section" id="enunciado" style="margin-top: 5%;">
            <h1 style="text-align: center;">Pregunta 4</h1>
            <p>4)Mostrar datos XML en una tabla utilizando AJAX.</p>
            <div class="section" id="enunciado" style="margin-top: 5%;" style="text-align:center;">
              <button style="align-self: center;" type="button" onclick="CargarDatos()">Obtener Tabla</button>
            </div>
            <div class="section" style="margin-left: 38%;margin-top: 5%;">
              <table id="resolucion"></table>
            </div>
          </div>        
        </div>
      </div>
      <div class="tab-pane" id="HT">
        <br><br><br><br>
        <img src="../../Imagenes/CP4.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
      </div>
      <div class="tab-pane" id="S">
        <br><br><br><br>
        <img src="../../Imagenes/SP4.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
      </div>
      <div class="tab-pane" id="XML">
        <br><br><br><br>
        <img src="../../Imagenes/XP2.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
      </div>
    </div>
  </div>
  <br><br><br>
  <div class="container" id="Ca">
    <h2><p style="color:#165014" ;>CAPTURAS PREGUNTA 4</p></h2>
    <h3><p style="text-align: center;color:#165014" ;>Antes</p></h3>
    <img src="../../Imagenes/Pregunta4.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
    <br>
    <h3><p style="text-align: center;color:#165014" ;>Despues</p></h3>
    <img src="../../Imagenes/Pregunta42.jpg" class="img-responsive" style="margin-left:auto;margin-right: auto;">
  </div>


<script>
  xmlhttp = new XMLHttpRequest(); //Creacion del objeto XMLHttpRequest
  xmlhttp.open("GET", "ejemplo.xml", false);//Enviar la solicitud para obtener el archivo ejemplo.xml
  xmlhttp.send();
  xmlDoc = xmlhttp.responseXML;//Funcion que va a ser llamada cuando la solicitud reciba una respuesta
  //Funcion para recuperar los datos del txt
  function CargarDatos() {
    document.getElementById("resolucion").innerHTML = '';
    const n = xmlDoc.getElementsByTagName("nombre");
    let table="<tr><th>ID</th><th>Nombre</th><th>Comida</th></tr>";
    for (var i = 0; i < n.length; i++) {
      table += "<tr><td>" +
          xmlDoc.getElementsByTagName("id")[i].childNodes[0].nodeValue +
          "</td><td>" +
          xmlDoc.getElementsByTagName("nombre")[i].childNodes[0].nodeValue +
          "</td><td>" +
          xmlDoc.getElementsByTagName("comida")[i].childNodes[0].nodeValue +
          "</td></tr>";
    }
    document.getElementById("resolucion").innerHTML = table;
  }
</script>
  <script>window.jQuery || document.write('<script src="../../js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

        <script src="../../js/vendor/bootstrap.min.js"></script>

        <script src="../../js/main.js"></script> 
</body>
</html>
